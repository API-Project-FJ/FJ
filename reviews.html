<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Higher or Lower</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="index.css">
    <script src="index.js" type="module"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/ea688e67a6.js" crossorigin="anonymous"></script>
</head>

<body>
    <div id="game-title">
        <h1 class="text-white">Which Movie is Rated Higher ?</h1>
    </div>

    <div class="row" id="movie-reviews"></div>

    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script>

fetch(`https://api.nytimes.com/svc/movies/v2/reviews/all.json?api-key=${""}`)
  .then(response => response.json())
  .then(data => {
    // Get the first 10 movie reviews
    const reviews = data.results.slice(0, 10);

    // Loop through the reviews and create a Bootstrap card for each one
    const reviewsHtml = reviews.map(review => {
        console.log(review);
      const imageUrl = review.multimedia?.src;
      const title = review.display_title;
      const summary = review.summary_short;

      return `
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card">
            <img src="${imageUrl}" class="card-img-left" alt="${title}">
            <div class="card-body">
              <h5 class="card-title">${title}</h5>
              <p class="card-text">${summary}</p>
            </div>
          </div>
        </div>
      `;
    }).join('');

    // Add the reviews HTML to the #movie-reviews div
    const movieReviews = document.querySelector('#movie-reviews');
    movieReviews.innerHTML = reviewsHtml;
  })
  .catch(error => console.error(error));
    </script>
</body>

</html>